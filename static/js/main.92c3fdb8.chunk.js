(this["webpackJsonptime-scrabble"]=this["webpackJsonptime-scrabble"]||[]).push([[0],{19:function(t,e,n){},20:function(t,e,n){},25:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(1),i=n.n(a),s=n(8),c=n.n(s),o=(n(19),n(12)),l=n(3),u=n(2),d=n(9),m=n(10),j=n(13),b=n(11),p=(n(20),n(4)),h=n.n(p),y=3e5,f=function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={addPlayerEntry:"",paused:!0,initTime:y,getTimeFn:function(){return y},pointEntry:"",showConfirm:!1,timerFunctionsSet:!1,turnCounter:0,playerEntries:{}},t.handleChange=function(e){t.setState(Object(u.a)({},e.target.name,e.target.value))},t.addPlayer=function(e){e.preventDefault();var n=t.state,r=n.addPlayerEntry,a=n.playerEntries,i=Object(u.a)({},r,[]);t.setState({playerEntries:Object(l.a)(Object(l.a)({},a),i),addPlayerEntry:""})},t.toggleConfirm=function(){t.setState((function(t){return{showConfirm:!t.showConfirm}}))},t.reverseArray=function(t){for(var e=[],n=t.length-1;n>=0;n--)e.push(t[n]);return e},t.linearScoreFactor=function(){var e=y-t.state.getTimeFn();return 1-1/y*e},t.saveGame=function(){var e=t.state,n=e.playerEntries,r=e.turnCounter;localStorage.setItem("playerEntries",JSON.stringify(n)),localStorage.setItem("turnCounter",r)},t.loadGame=function(){var e=localStorage.getItem("playerEntries"),n=localStorage.getItem("turnCounter"),r=null!==e?JSON.parse(e):{},a=Number(n)||0;t.setState({playerEntries:r,turnCounter:a})},t.clearPoints=function(){t.setState({playerEntries:{},turnCounter:0,showConfirm:!1})},t.currentPlayer=function(){var e=t.state,n=e.playerEntries,r=e.turnCounter%Object.keys(n).length;return Object.keys(n)[r]},t.pointEntry=function(e){e.preventDefault();var n=t.state,r=n.playerEntries,a=n.turnCounter,i=n.pointEntry,s=n.pauseFn,c=n.resetFn,u=n.getTimeFn;if(isNaN(i))return alert("Point entry must be a number");if(0===Object.keys(r).length)return alert("Add a player to play the game");if(u()===y)return alert("Start the timer");var d=t.currentPlayer(),m=Object(l.a)({},r),j=Number(i),b=y-t.state.getTimeFn(),p=Math.round(t.linearScoreFactor()*Number(j));m[d]=[].concat(Object(o.a)(r[d]),[{discounted:p,original:j,timeSpent:b}]),t.setState({playerEntries:m,turnCounter:a+1,pointEntry:"",paused:!0},(function(){t.saveGame(),s(),c()}))},t.padn=function(t,e){var n=t._owner.memoizedState[e];return n<10?"0"+n:n},t.componentDidMount=function(){t.loadGame()},t.setFunctions=function(e,n,r,a){t.state.timerFunctionsSet||t.setState({startFn:e,pauseFn:n,resetFn:r,getTimeFn:a,timerFunctionsSet:!0})},t}return Object(m.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.addPlayerEntry,a=e.paused,s=e.initTime,c=e.pointEntry,o=e.playerEntries,l=e.showConfirm;return Object(r.jsxs)("div",{className:"app",children:[Object(r.jsx)("div",{className:"add-player-form-cont",children:Object(r.jsxs)("form",{action:"",onSubmit:this.addPlayer,className:"add-player-form",children:[Object(r.jsx)("input",{type:"text",id:"addPlayerEntry",name:"addPlayerEntry",value:n,onChange:this.handleChange,placeholder:"Player"}),Object(r.jsx)("input",{type:"submit",value:"Add player"})]})}),Object(r.jsx)(h.a,{initialTime:s,timeToUpdate:200,direction:"backward",startImmediately:!1,lastUnit:"m",checkpoints:[{time:0,callback:function(){return alert("countdown finished")}}],onStart:function(){t.setState({paused:!1})},onPause:function(){t.setState({paused:!0})},onReset:function(){t.setState({paused:!0})},children:function(e){var n=e.start,c=e.pause,o=e.reset,l=e.getTime;return t.setFunctions(n,c,o,l),Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsxs)("div",{className:"time",children:[t.padn(Object(r.jsx)(h.a.Minutes,{}),"m"),":",t.padn(Object(r.jsx)(h.a.Seconds,{}),"s")]}),Object(r.jsxs)("div",{className:"buttons",children:[a?Object(r.jsx)("div",{className:"start-btn-cont",children:Object(r.jsx)("button",{onClick:n,children:"Start"})}):Object(r.jsx)("div",{className:"pause-btn-cont",children:Object(r.jsx)("button",{onClick:function(){c()},children:"Pause"})}),Object(r.jsx)("div",{className:"reset-btn-cont",children:Object(r.jsx)("button",{onClick:function(){c(),t.setState({time:s}),o()},children:"Reset"})})]})]})}}),Object(r.jsx)("div",{className:"entry-points-form-cont",children:Object(r.jsxs)("form",{action:"",onSubmit:this.pointEntry,className:"entry-points-form",children:[Object(r.jsx)("input",{type:"text",id:"pointEntry",name:"pointEntry",value:c,onChange:this.handleChange,placeholder:"Points"}),Object(r.jsx)("input",{type:"submit",value:"Submit"})]})}),Object(r.jsxs)("div",{className:"turn-cont",children:[this.currentPlayer(),"'s turn"]}),Object(r.jsx)("div",{className:"score-cont",children:Object.keys(o).map((function(e){return Object(r.jsxs)("div",{className:"player-score-cont",children:[Object(r.jsx)("div",{className:"player-name",children:e}),Object(r.jsx)("div",{className:"player-total-cont",children:o[e].map((function(t){return t.discounted})).reduce((function(t,e){return t+e}),0)}),Object(r.jsx)("div",{className:"player-point-cont",children:t.reverseArray(o[e]).map((function(t,n){return Object(r.jsx)("div",{className:"point",children:t.discounted},"point-".concat(e,"-").concat(n))}))})]},e)}))}),Object(r.jsx)("div",{className:"new-game-cont",children:l?Object(r.jsxs)("div",{className:"confirm-buttons",children:[Object(r.jsx)("button",{onClick:this.toggleConfirm,children:"No"}),Object(r.jsx)("button",{onClick:this.clearPoints,children:"Yes"})]}):Object(r.jsx)("button",{onClick:this.toggleConfirm,children:"New Game"})})]})}}]),n}(a.Component),O=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,i=e.getLCP,s=e.getTTFB;n(t),r(t),a(t),i(t),s(t)}))};c.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(f,{})}),document.getElementById("root")),O()}},[[25,1,2]]]);
//# sourceMappingURL=main.92c3fdb8.chunk.js.map